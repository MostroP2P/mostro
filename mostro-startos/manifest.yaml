id: mostro
version: 0.14.0
release-notes: |
  Initial release of mostro on StartOS.
license: MIT
wrapper-repo: https://github.com/MostroP2P/mostro-startos
upstream-repo: https://github.com/MostroP2P/mostro
support-site: https://github.com/MostroP2P/mostro/issues
marketing-site: https://mostro.network/
build:
  - build-method: docker
    build-arch: amd64
    build-dir: .
assets:
  - icon.svg
  - LICENSE
  - instructions.md
main:
  type: docker
  image: arkanoider/mostro:latest
  entrypoint: /entrypoint.sh
  args: []
  mounts:
    data: /data
    config: /config
  ports:
    8000:
      name: "RPC Port"
      description: "Port for the Mostro RPC interface"
      tls: false
      health-check: /
health-checks:
  main:
    name: "RPC Health Check"
    description: "Checks if the Mostro RPC server is responding."
    type: http
    port: 8000
    path: /
    success-codes: [200]
    failures-allowed: 3
    interval: 30
    timeout: 10
config:
  - name: nostr
    type: object
    description: "Nostr settings"
    spec:
      - name: nsec_privkey
        type: string
        description: "Your Mostro Nostr private key (nsec)."
        required: true
      - name: relays
        type: list
        description: "List of Nostr relays to connect to."
        spec:
          type: string
        default: ["wss://relay.damus.io", "wss://relay.mostro.network"]
  - name: lightning
    type: object
    description: "Lightning Network settings"
    spec:
      - name: lnd_cert_file
        type: string
        description: "Path to your LND node's TLS certificate file."
        required: true
      - name: lnd_macaroon_file
        type: string
        description: "Path to your LND node's admin macaroon file."
        required: true
      - name: lnd_grpc_host
        type: string
        description: "Your LND node's gRPC host and port."
        required: true
  - name: mostro
    type: object
    description: "Mostro specific settings"
    spec:
      - name: fee
        type: number
        description: "Fee percentage to charge for trades."
        default: 0.003 # 0.3%
        min: 0
      - name: max_order_amount
        type: number
        description: "Maximum order amount in satoshis."
        default: 1000000
        min: 1
      - name: min_payment_amount
        type: number
        description: "Minimum payment amount in satoshis."
        default: 1000
        min: 1
      - name: expiration_hours
        type: number
        description: "Default expiration time for orders in hours."
        default: 24
        min: 1
  - name: rpc
    type: object
    description: "RPC Server settings"
    spec:
      - name: enabled
        type: boolean
        description: "Enable the RPC server for direct admin communication."
        default: false
      - name: port
        type: number
        description: "Port for the RPC server."
        default: 50051
        min: 1024
        max: 65535
interfaces:
  main:
    name: "Mostro RPC"
    description: "Access the Mostro RPC interface."
    ui: true
    path: ""
    port: 8000
dependencies:
  lnd:
    name: "LND"
    description: "Lightning Network Daemon required for Lightning Network functionality."
    required: true
    version: ">=0.18.0"
  bitcoind:
    name: "Bitcoin Core"
    description: "Bitcoin Core node required for Bitcoin blockchain access."
    required: true
    version: ">=25.0"
volumes:
  data:
    type: data
    name: "Mostro Database"
    description: "Stores the Mostro SQLite database (mostro.db)."
  config:
    type: data
    name: "Mostro Configuration"
    description: "Stores Mostro configuration files (settings.toml)." 